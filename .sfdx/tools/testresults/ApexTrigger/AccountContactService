public with sharing class AccountContactService{

    public static void updateActiveContacts(Set<id> accountIds){

            List<AggregateResult> results=[SELECT Id, Name, AccountId, COUNT(Id) totalContacts 
                    FROM Contact 
                        WHERE Active__c= TRUE 
                        AND AccountId=: accountIds 
                        GROUP BY AccountId
                    ]; 

            List<Account> accountsToupdate=new List<Account>();

             for(AggregateResult result : results){
                //get account id and number of active contacts
                String accId=String.valueOf(result.get('AccountId'));
                integer totalContacts=Integer.valueOf(result.get('totalContacts'));

                Account acc=new Account(Id=accId, Active_Contacts__c=totalContacts);
                accountsToupdate.add(acc);
        }
        update accountsToupdate;
    }
}